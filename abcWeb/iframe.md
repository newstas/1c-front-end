# iframe — встроенная страница

`<iframe>` — это контейнер, который позволяет вставить любой HTML-документ из другого источника. Часто этот документ интерактивный — например, карта, видео или пост из соцсети.

Этот контейнер обычно называют фреймом. Внешний вид фрейма и его положение на странице можно задать через CSS.

Тег <iframe> позволяет встраивать контент (например, веб-страницы, видео) прямо в ваш документ HTML.

Простейший пример использования <iframe>:

`<iframe src="https://example.com" width="600" height="400"></iframe>`

Еще пример

С помощью такого нехитрого кода мы можем встроить карту размером 560 на 400 пикселей на любую страницу:
```
<iframe
  id="inlineFrameExample"
  title="Inline Frame Map"
  width="560"
  height="400"
  frameborder="1"
  allowfullscreen="true"
  src="https://yandex.ru/map-widget/v1/-/CBFkaYSE0A"
>
</iframe>
```

Атрибут `src` задаёт URL-адрес страницы, которую вы хотите встроить.

Атрибуты `width` и `height` — ширина и высота фрейма (можно задавать как в пикселях, так и в процентах).

## Как понять

`<iframe>` можно представить как «окно» или фрейм, через которое на вашей странице можно увидеть любое содержимое с других сайтов. Это значит, что если карту, видео, пост или другой элемент удалят с оригинального сайта, он пропадёт и с вашей страницы. Останется только пустое место или надпись вроде «Контент недоступен».

Встраивать файлы можно либо по ссылке с помощью атрибута `src`, либо целиком HTML-код файла с помощью `srcdoc`.


## Все атрибуты

src — URL-адрес файла, который вы встраиваете.

srcdoc — позволяет встроить HTML-код целиком, так что браузеру не придётся подгружать что-то по внешней ссылке. Если используется этот атрибут, то ссылка src игнорируется.

`sandbox`

sandbox — ограничивает определённые действия и функции встраиваемого документа. Это важный атрибут с точки зрения безопасности. Он позволяет контролировать, какие активности разрешены внутри `<iframe>`. 

Возможные значечения атрибута `sandbox`:
- `allow-forms` — позволяет отправлять формы внутри <iframe>.
- `allow-modals` — позволяет открывать модальные окна, которые мы все так не любим: вроде «Оставьте свой имейл» или «Не уходите так быстро! У вас товар в корзине». Обычно эти окна не дают пользоваться сайтом, пока их не закроешь.
- `allow-orientation-lock` — позволяет фиксировать горизонтальное или вертикальное положение экрана.
- `allow-pointer-lock` — позволяет пользователю управлять содержимым <iframe> с помощью курсора через Pointer Lock API.
- `allow-popups` — разрешает показ всплывающих окон, вызванных с помощью window.open(), target="_blank" или showModalDialog().
- `allow-popups-to-escape-sandbox` — позволяет содержимому фрейма открывать новые окна. С этим параметром у таких окон не будет тех ограничений, которые есть у <iframe> с атрибутом sandbox.
- `allow-presentation` — разрешает использовать Presentation API.
- `allow-same-origin` — контент из <iframe> загружается по тем же правилам и с теми же ограничениями, что и страница, на которой он находится.
- `allow-scripts` — позволяет загружать скрипты. При этом всплывающие окна будут запрещены.
- `allow-top-navigation` — позволяет открывать ссылки, которые есть в <iframe>, в том же окне, в которое встроен фрейм.
- `allow-top-navigation-by-user-activation` — позволяет контенту из фрейма управлять страницей, на которой он находится. Но только по инициативе пользователя.

Если просто указать атрибут sandbox, то он применит сразу все возможные ограничения. Либо можно указать нужные ограничения в любом порядке через пробел:

`<iframe src="https://example.com" sandbox="allow-scripts allow-same-origin"></iframe>`

Значение allow-scripts разрешает выполнение скриптов внутри фрейма, а allow-same-origin позволяет фрейму обращаться к ресурсам его исходной страницы.


`loading`

Атрибут loading может помочь с оптимизацией производительности и отложить загрузку iframe до тех пор, пока это не будет необходимо.

`<iframe src="https://example.com" loading="lazy"></iframe>`


`allowfullscreen, allowpaymentrequest`

Здесь всё просто и следует из названия:
- `allowfullscreen`: позволяет встроенному контенту открываться в полноэкранном режиме.
- `allowpaymentrequest`: позволяет встроенному контенту делать запросы на оплату.
    

`title`

Не забывайте об универсальных атрибутах, таких как `title`, которые способствуют улучшению доступности.

`<iframe src="https://example.com" title="Example Content"></iframe>`

`name`

`name` — имя фрейма. Пригодится, чтобы создать ссылку, по которой новая страница будет открываться в нужном фрейме.


## Стилизация

`<iframe>` можно стилизовать, как и любой другой элемент. Но помните, что стили вашей родительской страницы не применяются к содержимому `<iframe>`, и вы не сможете его стилизовать через CSS в родительском документе.
```
iframe {
  border: none; 
}
```

## Отслеживание событий загрузки

Вы можете отслеживать событие load для <iframe>, чтобы знать, когда встроенный контент загружен.
```
document.querySelector('iframe').addEventListener('load', function() {
  console.log('Iframe is loaded!'); 
});
```

### Полезные ссылки

[Спецификация](https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element)

[Дока iframe](https://doka.guide/html/iframe/)

[Доктайп iframe](https://htmlacademy.ru/blog/html-tags/iframe)

