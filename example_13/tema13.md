## Элемент canvas (Холст).

Тег HTML5 `<canvas>` используется для рисования графики «на лету» с помощью 
сценариев (обычно JavaScript).

Однако элемент `<canvas>` не имеет собственных возможностей рисования 
(это всего лишь контейнер для графики) - вы должны использовать скрипт 
для фактического рисования графики.

Метод `getContext()` возвращает объект, который предоставляет методы 
и свойства для рисования на холсте.


Этот элемент создает на веб-странице пустой прямоугольник, внутри которого 
затем визуализируются результаты применения методов, входящих в API холста.

`<canvas>` - всего лишь создает на экране пустой блок. Для того чтобы извлечь 
из этой поверхности практическую пользу, нужно добавить JavaScript-код 
и воспользоваться новыми методами и свойствами, появившимися в API.



## `API Canvas` (Холст) — краткий справочник.

`API Canvas` (Холст), вероятно, самый сложный и объемный во всей спецификации HTML5. 
Он предоставляет несколько методов и свойств для создания графических приложений 
на базе элемента `<canvas>`.

Canvas API предоставляет средства для рисования графики через JavaScript 
и HTML `<canvas>` - элемент. Среди прочего, его можно использовать для анимации, 
игровой графики, визуализации данных, обработки фотографий и обработки видео 
в реальном времени.

Canvas API в основном ориентирован на 2D-графику. `WebGL API`, который также 
использует элемент `<canvas>`, рисует аппаратное ускорение 2D и 3D графики.


### Методы `API Canvas` (Холста)

В `API Canvas` (Холст) входят следующие методы:

`getContext(context)` — создает контекст для холста, на котором вы затем будете 
рисовать. Принимает одно из двух значений: 2d или 3d для двухмерной и 
трехмерной графики соответственно;

#### Рисование прямоугольников

В отличие от `SVG` , `<canvas>` поддерживает только две примитивные формы: 
прямоугольники и пути (списки точек, соединенных линиями). Все остальные формы 
должны быть созданы путем объединения одного или нескольких путей. К счастью, 
у нас есть набор функций рисования контуров, которые позволяют создавать очень 
сложные формы.

Cуществует три функции, которые рисуют прямоугольники на холсте:

`fillRect(x, y, width, height)` — позволяет нарисовать прямо на холсте, в точке 
(x, y), залитый цветом прямоугольник со сторонами width и height;

`strokeRect(x, y, width, height)` — рисует прямоугольный контур;

`clearRect(x, y, width, height)` — очищает на холсте прямоугольную область, 
координаты и размеры которой заданы его атрибутами;


#### Рисрование контуров (Drawing paths)

Контур — это список точек, соединенных отрезками линий, которые могут быть 
разной формы, изогнутыми или нет, разной ширины и разного цвета.

`stroke()` — рисует фигуру, обводя ее контур.

`fill()` — рисует сплошную форму, заполняя область содержимого контура.

`moveTo(x, y)` — перемещает перо в координаты, указанные с помощью `x` и `y`.
Удобно использовать для размещения начальной точки в любом месте.


#### Рисрование линии

Для рисования прямых линий используем слудющий метод:

`lineTo(x, y)` — рисует линию от текущей позиции рисования до позиции, 
указанной с помощью `x` и `y`. Начальную точку также можно изменить 
с помощьюметода `moveTo()`.


#### Окружности и дуги

Чтобы рисовать дуги или окружности, мы используем два следующих метода:

`arc(x, y, radius, startAngle, endAngle, anticlockwise)` — рисует дугу с центром в позиции (x, y) 
с радиусом r, начиная с startAngle и заканчивая endAngle, и движется в заданном направлении, 
указанном против часовой стрелки (по умолчанию по часовой стрелке).

`arcTo(x1, y1, x2, y2, radius)` — рисует дугу с заданными контрольными
точками и радиусом, соединенную с предыдущей точкой прямой линией.


#### Цвета

`fillStyle = color` — устанавливает стиль заливки фигур.

`strokeStyle = color` — устанавливает стиль очертаний фигур.


#### Написание текста

Контекст визуализации холста предоставляет два метода для визуализации текста:

`strokeText(text, x, y, max)` — рисует контурный текст прямо на холсте. 
Атрибут max необязательный, он задает максимальный размер текста;

`fillText(text, x, y, max)` — рисует прямо на холсте текст, представляющий 
собой залитые цветом фигуры. Атрибут max необязательный, он задает 
максимальный размер текста;


#### Вывод изображений

Как только у нас есть ссылка на объект исходного изображения, мы можем 
использовать метод `drawImage()` для его рендеринга на холст. 

`drawImage()` — единственный метод предназначенный для вывода изображений на холст. 
Однако он способен принимать различные значения, возвращая разные результаты 
в зависимости от переданных аргументов. Далее перечислены всевозможные 
варианты использования:

`drawImage(image, x, y)` - такой синтаксис позволяет вывести изображение 
на холст в позиции, определяемой параметрами x и y. Первый параметр должен 
содержать ссылку на изображение;

`drawImage(image, x, y, width, height)` - этот синтаксис позволяет 
масштабировать изображение перед тем, как помещать его на холст. 
Новые значения ширины и высоты задаются в параметрах width и height;


## 1.5.1 Контекст

Инструкция по использованию


#### Шаг 1. Найдем элемент холста

Прежде всего неоходимо найти элемент <canvas>.

Это делается с помощью метода HTML DOM `getElementById()`:

`var canvas = document.getElementById("sandbox");`


#### Шаг 2: Создадим объект чертежа

Во-вторых, вам понадобится объект рисования для холста.

`getContext()` - это встроенный объект HTML со свойствами и методами для рисования:

`let context = canvas.getContext("2d");`


#### Шаг 3: рисуем на холсте

Наконец, вы можете рисовать на холсте.

Установим красный цвет для стиля заливки рисованного объекта:

`context.fillStyle = "#FF0000";`

Свойство fillStyle может быть цветом CSS, градиентом или узором. 
По умолчанию fillStyle - черный.

Метод fillRect ( x, y, width, height ) рисует на холсте прямоугольник, 
заполненный стилем заливки:

`context.fillRect(0, 0, 150, 75);`


Напишем код с помощью которого внутрь элемента "sandbox" передадим контекст 
с помощью метода getContext(), а затем нарисуем прямоугольник с помощью 
метода fillRect(), использую при этом переменные:

```js
let canvas = document.getElementById("sandbox");
context = canvas.getContext("2d");

context.fillRect(50, 25, 200, 250);
```

Теперь уменьшим код и напишем этот алгоритм без использования переменных:

```js
document.getElementById("sandbox").getContext("2d").fillRect(50, 25, 200, 250);
```


## SVG (масштабируемая векторная графика)

SVG - это  язык XML, похожий на XHTML, который можно использовать 
для рисования векторной графики. Его можно использовать для создания 
изображения, указав все необходимые линии и формы, изменив уже существующие 
растровые изображения или их комбинацию. Изображение и его компоненты также 
можно преобразовать, объединить вместе или отфильтровать, чтобы полностью 
изменить их внешний вид.

SVG появился в 1999 году.

SVG (от англ. Scalable Vector Graphics — масштабируемая векторная графика) 
— язык разметки масштабируемой векторной графики, созданный Консорциумом 
Всемирной паутины (W3C) и входящий в подмножество расширяемого языка разметки XML, 
предназначен для описания двумерной векторной и смешанной векторно/растровой 
графики в формате XML.

Поддерживает как неподвижную, так и анимированную интерактивную графику — или, 
в иных терминах, декларативную и скриптовую. Не поддерживает описание 
трёхмерных объектов (не путать с имитацией трёхмерности путём светотени).

SVG — открытый стандарт.


### 1.5.2 Контуры

Для создания более сложных фигур, чем прямоугольники используют конструктор `Path2D()`

#### `API Path2D`

Новый `API Path2D` позволяет хранить пути, что упрощает ваш код рисования холста 
и заставляет его работать быстрее. Конструктор `Path2D()` предоставляет три способа 
создания объекта `Path2D`:

```js
new Path2D();     // пустой объект path
new Path2D(path); // скопировать с другого пути
new Path2D(d);    // путь от данных контуров SVG
```

Третья версия, которая берет данные о пути SVG для построения, особенно удобна. 
Теперь вы можете повторно использовать ваши пути SVG для рисования одинаковых форм 
непосредственно на холсте:

`var p = new Path2D("M10 10 h 80 v 80 h -80 Z");`

`Path2D()` - этот конструктор возвращает новый инстанцированный объект `Path2D`, 
возможно, с другим путем в качестве аргумента (создает копию), или, 
необязательно, с последовательностью, состоящей из путей SVG данных.

`moveTo(x, y)` - помещает перо в точку (x, y);

`lineTo(x, y)` - ресует линию от текущей точки до (x, y);

`arc(x, y, R, 0, 2 * Math.PI)` - рисует окружность с центром в точке (x, y) 
и радиусом R.

##### Методы объекта `Path2D`

`Path2D.addPath()` - добавляет путь к текущему пути.

`Path2D.moveTo()` - перемещает начальную точку нового вложенного пути в координаты (x, y).

`Path2D.lineTo()` - соединяет последнюю точку подпути с координатами (x, y) прямой линией.

`Path2D.arc()` -  добавляет дугу к пути с центром в позиции (x, y) с радиусом r, начиная 
с startAngle и заканчивая endAngle, двигаясь в заданном направлении против 
часовой стрелки (по умолчанию - по часовой стрелке).



***

### Источники

[Учебник по холсту - MSN](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial)

[API Canvas (Холст) — краткий справочник](http://html5ru.com/api-canvas-xolst-kratkij-spravochnik.html)

[Canvas API - MSN](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API)

[Path2D - MSN](https://developer.mozilla.org/en-US/docs/Web/API/Path2D)

[Справочник по HTML Canvas - 3schools.com](https://www.w3schools.com/graphics/canvas_reference.asp)

[HTML графика - 3schools.com](https://www.w3schools.com/graphics/default.asp)

[WebGL - MSN](https://developer.mozilla.org/ru/docs/Web/API/WebGL_API)
